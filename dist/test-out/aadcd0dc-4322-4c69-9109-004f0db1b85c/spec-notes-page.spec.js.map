{
  "version": 3,
  "sources": ["src/app/features/notes/notes-page/notes-page.spec.ts"],
  "sourcesContent": ["import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { NotesPage } from './notes-page';\r\nimport { AuthService } from '../../../shared/services/auth.service';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\nimport { of } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MarkdownModule } from 'ngx-markdown';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\ndescribe('NotesPage', () => {\r\n  let component: NotesPage;\r\n  let fixture: ComponentFixture<NotesPage>;\r\n  let authServiceSpy: jasmine.SpyObj<AuthService>;\r\n  let cdrSpy: jasmine.SpyObj<ChangeDetectorRef>;\r\n\r\n  beforeEach(async () => {\r\n    authServiceSpy = {\r\n      updateMarkdownNote: jasmine.createSpy('updateMarkdownNote').and.returnValue(of({})),\r\n      getUserData: jasmine.createSpy('getUserData').and.returnValue(of({ markdownNote: '' }))\r\n    } as any;\r\n    cdrSpy = jasmine.createSpyObj('ChangeDetectorRef', ['detectChanges']);\r\n    await TestBed.configureTestingModule({\r\n      imports: [\r\n        NotesPage,\r\n        CommonModule,\r\n        FormsModule,\r\n        MarkdownModule.forRoot(),\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        MatIconModule\r\n      ],\r\n      providers: [\r\n        { provide: AuthService, useValue: authServiceSpy },\r\n        { provide: ChangeDetectorRef, useValue: cdrSpy }\r\n      ]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(NotesPage);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('should save note', () => {\r\n    component.isBrowser = true;\r\n    component.markdown = 'test note';\r\n    authServiceSpy.updateMarkdownNote.and.returnValue(of(void 0));\r\n    spyOn(localStorage, 'setItem');\r\n    component.saveNote();\r\n    expect(authServiceSpy.updateMarkdownNote).toHaveBeenCalledWith('test note');\r\n    expect(localStorage.setItem).toHaveBeenCalledWith('markdown-note', 'test note');\r\n  });\r\n\r\n  it('should load note', () => {\r\n    component.isBrowser = true;\r\n    authServiceSpy.getUserData.and.returnValue(of({ markdownNote: 'loaded note' } as any));\r\n    component.loadNote();\r\n    expect(component.markdown).toBe('loaded note');\r\n    expect(authServiceSpy.getUserData).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should clear note', () => {\r\n    component.isBrowser = true;\r\n    component.markdown = 'something';\r\n    spyOn(component, 'saveNote');\r\n    component.clearNote();\r\n    expect(component.markdown).toBe('');\r\n    expect(component.saveNote).toHaveBeenCalled();\r\n  });\r\n});\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,aAAS,aAAa,MAAK;AACzB,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,yBAAiB;UACf,oBAAoB,QAAQ,UAAU,oBAAoB,EAAE,IAAI,YAAY,GAAG,CAAA,CAAE,CAAC;UAClF,aAAa,QAAQ,UAAU,aAAa,EAAE,IAAI,YAAY,GAAG,EAAE,cAAc,GAAE,CAAE,CAAC;;AAExF,iBAAS,QAAQ,aAAa,qBAAqB,CAAC,eAAe,CAAC;AACpE,cAAM,QAAQ,uBAAuB;UACnC,SAAS;YACP;YACA;YACA;YACA,eAAe,QAAO;YACtB;YACA;YACA;YACA;;UAEF,WAAW;YACT,EAAE,SAAS,aAAa,UAAU,eAAc;YAChD,EAAE,SAAS,mBAAmB,UAAU,OAAM;;SAEjD,EAAE,kBAAiB;AAEpB,kBAAU,QAAQ,gBAAgB,SAAS;AAC3C,oBAAY,QAAQ;AACpB,gBAAQ,cAAa;MACvB,EAAC;AAED,SAAG,iBAAiB,MAAK;AACvB,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;AAED,SAAG,oBAAoB,MAAK;AAC1B,kBAAU,YAAY;AACtB,kBAAU,WAAW;AACrB,uBAAe,mBAAmB,IAAI,YAAY,GAAG,MAAM,CAAC;AAC5D,cAAM,cAAc,SAAS;AAC7B,kBAAU,SAAQ;AAClB,eAAO,eAAe,kBAAkB,EAAE,qBAAqB,WAAW;AAC1E,eAAO,aAAa,OAAO,EAAE,qBAAqB,iBAAiB,WAAW;MAChF,CAAC;AAED,SAAG,oBAAoB,MAAK;AAC1B,kBAAU,YAAY;AACtB,uBAAe,YAAY,IAAI,YAAY,GAAG,EAAE,cAAc,cAAa,CAAS,CAAC;AACrF,kBAAU,SAAQ;AAClB,eAAO,UAAU,QAAQ,EAAE,KAAK,aAAa;AAC7C,eAAO,eAAe,WAAW,EAAE,iBAAgB;MACrD,CAAC;AAED,SAAG,qBAAqB,MAAK;AAC3B,kBAAU,YAAY;AACtB,kBAAU,WAAW;AACrB,cAAM,WAAW,UAAU;AAC3B,kBAAU,UAAS;AACnB,eAAO,UAAU,QAAQ,EAAE,KAAK,EAAE;AAClC,eAAO,UAAU,QAAQ,EAAE,iBAAgB;MAC7C,CAAC;IACH,CAAC;;;",
  "names": []
}
