import{c as w}from"./chunk-2GYBDXDL.js";import{a as E,b as k}from"./chunk-J66JN4HU.js";import{$c as y,Aa as f,Ab as d,Fa as o,Ib as M,Ja as u,Jb as h,Oa as C,Sa as x,ad as I,cb as p,db as t,eb as e,fb as g,gb as S,hb as b,ic as _,lb as P,lc as O,mc as v,zb as n}from"./chunk-C5GZDSUZ.js";var F=()=>({position:"bottom"}),z=r=>({legend:r}),N=r=>({responsive:!0,plugins:r});function j(r,m){if(r&1&&(S(0),g(1,"canvas",9),b()),r&2){let i=P();o(),p("data",i.taskChartData)("type",i.taskChartType)("legend",!0)("options",h(7,N,h(5,z,M(4,F))))}}var D=class r{constructor(m){this.platformId=m;this.isBrowser=v(this.platformId)}isBrowser;totalTasks=0;todo=0;inProgress=0;done=0;focusSessions=0;totalFocusMinutes=0;notesCount=0;notesWordCount=0;snippetsCount=0;topSnippetLang="";taskChartData={labels:["To Do","In Progress","Done"],datasets:[{data:[0,0,0],label:"Tasks"}]};taskChartType="doughnut";ngOnInit(){this.loadStats()}loadStats(){if(!this.isBrowser)return;let m={todo:[],inProgress:[],done:[]};try{m=JSON.parse(localStorage.getItem("kanban-tasks")||'{"todo":[],"inProgress":[],"done":[]}')}catch(s){console.error("Failed to parse kanban-tasks:",s)}this.todo=m.todo?.length||0,this.inProgress=m.inProgress?.length||0,this.done=m.done?.length||0,this.totalTasks=this.todo+this.inProgress+this.done,this.taskChartData={labels:["To Do","In Progress","Done"],datasets:[{data:[this.todo,this.inProgress,this.done],label:"Tasks"}]};let i={};try{i=JSON.parse(localStorage.getItem("focus-timer")||"{}")}catch(s){console.error("Failed to parse focus-timer:",s)}this.focusSessions=i.completedFocusSessions||0,this.totalFocusMinutes=Math.floor((i.totalWorkSeconds||0)/60);let a=localStorage.getItem("markdown-note")||"";this.notesCount=a.trim()?1:0,this.notesWordCount=a.trim()?a.trim().split(/\s+/).length:0;let c=[];try{c=JSON.parse(localStorage.getItem("snippets")||"[]")}catch(s){console.error("Failed to parse snippets:",s)}if(this.snippetsCount=c.length,c.length){let s={};for(let l of c)s[l.language]=(s[l.language]||0)+1;this.topSnippetLang=Object.entries(s).sort((l,T)=>T[1]-l[1])[0][0]}else this.topSnippetLang=""}static \u0275fac=function(i){return new(i||r)(u(f))};static \u0275cmp=C({type:r,selectors:[["app-stats-dashboard-page"]],decls:76,vars:9,consts:[[1,"feature-card"],[1,"feature-card-header"],["fontIcon","bar_chart"],[1,"stats-dashboard"],[1,"stats-cards"],[1,"stat-card"],[1,"stats-charts"],[1,"chart-card"],[4,"ngIf"],["baseChart","","height","200",3,"data","type","legend","options"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"div",1),g(2,"mat-icon",2),t(3,"h1"),n(4,"Stats Dashboard"),e()(),t(5,"div",3)(6,"div",4)(7,"mat-card",5)(8,"mat-icon"),n(9,"assignment"),e(),t(10,"div")(11,"h2"),n(12),e(),t(13,"p"),n(14,"Total Tasks"),e()()(),t(15,"mat-card",5)(16,"mat-icon"),n(17,"check_circle"),e(),t(18,"div")(19,"h2"),n(20),e(),t(21,"p"),n(22,"Tasks Done"),e()()(),t(23,"mat-card",5)(24,"mat-icon"),n(25,"timer"),e(),t(26,"div")(27,"h2"),n(28),e(),t(29,"p"),n(30,"Focus Sessions"),e()()(),t(31,"mat-card",5)(32,"mat-icon"),n(33,"schedule"),e(),t(34,"div")(35,"h2"),n(36),e(),t(37,"p"),n(38,"Minutes Focused"),e()()(),t(39,"mat-card",5)(40,"mat-icon"),n(41,"notes"),e(),t(42,"div")(43,"h2"),n(44),e(),t(45,"p"),n(46,"Notes"),e()()(),t(47,"mat-card",5)(48,"mat-icon"),n(49,"text_fields"),e(),t(50,"div")(51,"h2"),n(52),e(),t(53,"p"),n(54,"Words in Notes"),e()()(),t(55,"mat-card",5)(56,"mat-icon"),n(57,"code"),e(),t(58,"div")(59,"h2"),n(60),e(),t(61,"p"),n(62,"Snippets"),e()()(),t(63,"mat-card",5)(64,"mat-icon"),n(65,"label"),e(),t(66,"div")(67,"h2"),n(68),e(),t(69,"p"),n(70,"Top Snippet Language"),e()()()(),t(71,"div",6)(72,"mat-card",7)(73,"h3"),n(74,"Task Status"),e(),x(75,j,2,9,"ng-container",8),e()()()()),i&2&&(o(12),d(a.totalTasks),o(8),d(a.done),o(8),d(a.focusSessions),o(8),d(a.totalFocusMinutes),o(8),d(a.notesCount),o(8),d(a.notesWordCount),o(8),d(a.snippetsCount),o(8),d(a.topSnippetLang||"N/A"),o(7),p("ngIf",a.isBrowser))},dependencies:[O,_,k,E,I,y,w],styles:[".stats-dashboard[_ngcontent-%COMP%]{padding:2rem}.stats-dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:2.2rem;font-weight:600}.stats-dashboard[_ngcontent-%COMP%]   .stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:2.5rem}.stats-dashboard[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.2rem;padding:1.2rem 1.5rem;background:var(--mat-card-background, #fff);box-shadow:var(--mat-elevation-z2, 0 1px 3px rgba(0, 0, 0, .08));border-radius:12px}.stats-dashboard[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;color:var(--mat-primary, #1976d2)}.stats-dashboard[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--mat-secondary-text, #666);font-size:1rem}.stats-dashboard[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;height:2.5rem;width:2.5rem;min-width:2.5rem;min-height:2.5rem;color:var(--mat-primary, #1976d2);display:flex;align-items:center;justify-content:center;line-height:1;vertical-align:middle;position:relative;top:0}.stats-dashboard[_ngcontent-%COMP%]   .stats-charts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:flex-start}.stats-dashboard[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{flex:1 1 350px;min-width:320px;max-width:500px;padding:1.5rem}.stats-dashboard[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.2rem;font-size:1.2rem;font-weight:600}.stats-dashboard[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%}.feature-card[_ngcontent-%COMP%]{max-width:1200px;margin:2.5rem auto 0;background:#fff;border-radius:18px;box-shadow:0 4px 24px #00000014,0 1.5px 6px #0000000a;padding:2.5rem 2.5rem 2rem;animation:_ngcontent-%COMP%_fadeIn .7s cubic-bezier(.4,0,.2,1)}.feature-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.9rem;margin-bottom:1.5rem}.feature-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.2rem;height:2.2rem;width:2.2rem;min-width:2.2rem;min-height:2.2rem;color:#1976d2;display:flex;align-items:center;justify-content:center;line-height:1;vertical-align:middle;position:relative;top:0}.feature-card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin:0;color:#222}@media (max-width: 700px){.feature-card[_ngcontent-%COMP%]{padding:1.2rem .7rem;max-width:98vw}.feature-card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}"]})};export{D as StatsDashboardPage};
