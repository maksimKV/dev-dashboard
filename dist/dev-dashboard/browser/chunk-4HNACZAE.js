import{a as A,b as E}from"./chunk-XKSLUECG.js";import{d as y,e as S,h as B,i as D,l as F,m as j}from"./chunk-SK7VDVV7.js";import{b as P,f as x,i as b,p as I}from"./chunk-YRSR3HXO.js";import{b as v}from"./chunk-DH3IS6VV.js";import{$a as n,Ab as M,Ca as l,Ga as a,La as g,Ub as _,Uc as N,Vc as O,_a as u,ab as r,bb as c,fc as k,gb as d,gc as C,vb as i,xa as f,yb as h,zb as w}from"./chunk-VNNFJF6T.js";var L=class p{constructor(e,t,o){this.platformId=e;this.authService=t;this.cdr=o;this.isBrowser=C(this.platformId)}markdown="";isBrowser;isLoading=!1;ngOnInit(){this.isBrowser&&this.loadNote()}saveNote(){this.isBrowser&&this.authService.updateMarkdownNote(this.markdown).subscribe({next:()=>{localStorage.setItem("markdown-note",this.markdown)},error:e=>{console.error("Failed to save note:",e),localStorage.setItem("markdown-note",this.markdown)}})}loadNote(){this.isBrowser&&(this.isLoading=!0,this.authService.getUserData().subscribe({next:e=>{this.markdown=e.markdownNote||"",this.isLoading=!1,this.cdr.detectChanges()},error:e=>{console.error("Failed to load note from API:",e);let t=localStorage.getItem("markdown-note");t?this.markdown=t:this.markdown="",this.isLoading=!1,this.cdr.detectChanges()}}))}clearNote(){this.markdown="",this.saveNote()}static \u0275fac=function(t){return new(t||p)(a(f),a(v),a(_))};static \u0275cmp=g({type:p,selectors:[["app-notes-page"]],decls:17,vars:2,consts:[[1,"feature-card"],[1,"feature-card-header"],["fontIcon","edit_note"],[1,"markdown-editor"],["appearance","outline",1,"editor-field"],["matInput","","rows","10","placeholder","Write your note in Markdown...",3,"ngModelChange","ngModel"],[1,"editor-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"preview"],[3,"data"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1),c(2,"mat-icon",2),n(3,"h1"),i(4,"Notes"),r()(),n(5,"div",3)(6,"mat-form-field",4)(7,"textarea",5),M("ngModelChange",function(s){return w(o.markdown,s)||(o.markdown=s),s}),d("ngModelChange",function(){return o.saveNote()}),r()(),n(8,"div",6)(9,"button",7),d("click",function(){return o.saveNote()}),i(10,"Save"),r(),n(11,"button",8),d("click",function(){return o.clearNote()}),i(12,"Clear"),r()(),n(13,"h3"),i(14,"Preview"),r(),n(15,"div",9),c(16,"markdown",10),r()()()),t&2&&(l(7),h("ngModel",o.markdown),l(9),u("data",o.markdown))},dependencies:[k,I,P,x,b,E,A,S,y,D,B,j,F,O,N],styles:[".feature-card[_ngcontent-%COMP%]{max-width:700px;margin:2.5rem auto 0;background:#fff;border-radius:18px;box-shadow:0 4px 24px #00000014,0 1.5px 6px #0000000a;padding:2.5rem 2.5rem 2rem;animation:_ngcontent-%COMP%_fadeIn .7s cubic-bezier(.4,0,.2,1)}.feature-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.9rem;margin-bottom:1.5rem}.feature-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.2rem;height:2.2rem;width:2.2rem;min-width:2.2rem;min-height:2.2rem;color:#1976d2;display:flex;align-items:center;justify-content:center;line-height:1;vertical-align:middle;position:relative;top:0}.feature-card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin:0;color:#222}.markdown-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.editor-field[_ngcontent-%COMP%]{width:100%}.editor-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.preview[_ngcontent-%COMP%]{background:#fafafa;border-radius:8px;box-shadow:0 2px 8px #0000000a;padding:1.5rem;min-height:120px;font-size:1.1rem}@media (max-width: 700px){.feature-card[_ngcontent-%COMP%]{padding:1.2rem .7rem;max-width:98vw}.feature-card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}.markdown-editor[_ngcontent-%COMP%]{max-width:100%;padding:0 1rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}"]})};export{L as NotesPage};
